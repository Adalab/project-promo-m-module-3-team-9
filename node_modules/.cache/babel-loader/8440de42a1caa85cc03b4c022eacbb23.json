{"ast":null,"code":"const express = require(\"express\");\n\nconst cors = require(\"cors\"); // create and config server\n\n\nconst server = express();\nserver.use(cors());\nserver.use(express.json({\n  limit: \"10mb\"\n}));\nserver.set(\"view engine\", \"ejs\"); // init express aplication\n\nconst serverPort = 4000;\nserver.listen(serverPort, () => {\n  console.log(`Server listening at http://localhost:${serverPort}`);\n}); // static server\n\nconst serverStaticPath = \"./public\";\nserver.use(express.static(serverStaticPath));\nserver.get(\"/card/:id\", (req, res) => {\n  res.render(\"views/card\", cardData);\n  console.log(cardData);\n});\nserver.post(\"/card/\", (req, res) => {\n  console.log(\"Peticin en /card\");\n  console.log(req.body);\n  const response = {};\n\n  if (req.body.name === \"\") {\n    response.success = false;\n    response.error = \"Missing name\";\n  } else if (isNaN(parseInt(req.body.palette))) {\n    response.success = false;\n    response.error = \"Missing palette\";\n  } else if (req.body.job === \"\") {\n    response.success = false;\n    response.error = \"Missing job\";\n  } else if (req.body.email === \"\") {\n    response.success = false;\n    response.error = \"Missing email\";\n  } else if (req.body.phone === \"\") {\n    response.success = false;\n    response.error = \"Missing phone\";\n  } else if (req.body.linkedin === \"\") {\n    response.success = false;\n    response.error = \"Missing linkedin\";\n  } else if (req.body.github === \"\") {\n    response.success = false;\n    response.error = \"Missing github\";\n  } else if (req.body.photo === \"\") {\n    response.success = false;\n    response.error = \"Missing photo\";\n  } else {\n    response.success = true;\n    response.cardURL = \"\";\n  }\n\n  res.json({\n    response\n  });\n});","map":{"version":3,"sources":["/Users/AlbA/Docus/Adalab/Ejercicios/proyecto3/project-promo-m-module-3-team-9/src/index.js"],"names":["express","require","cors","server","use","json","limit","set","serverPort","listen","console","log","serverStaticPath","static","get","req","res","render","cardData","post","body","response","name","success","error","isNaN","parseInt","palette","job","email","phone","linkedin","github","photo","cardURL"],"mappings":"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","sourcesContent":["const express = require(\"express\");\nconst cors = require(\"cors\");\n\n// create and config server\nconst server = express();\nserver.use(cors());\nserver.use(express.json({ limit: \"10mb\" }));\nserver.set(\"view engine\", \"ejs\");\n\n// init express aplication\nconst serverPort = 4000;\nserver.listen(serverPort, () => {\n  console.log(`Server listening at http://localhost:${serverPort}`);\n});\n\n// static server\nconst serverStaticPath = \"./public\";\nserver.use(express.static(serverStaticPath));\n\nserver.get(\"/card/:id\", (req, res) => {\n  res.render(\"views/card\", cardData);\n  console.log(cardData);\n});\n\nserver.post(\"/card/\", (req, res) => {\n  console.log(\"Peticin en /card\");\n  console.log(req.body);\n  const response = {};\n\n  if (req.body.name === \"\") {\n    response.success = false;\n    response.error = \"Missing name\";\n  } else if (isNaN(parseInt(req.body.palette))) {\n    response.success = false;\n    response.error = \"Missing palette\";\n  } else if (req.body.job === \"\") {\n    response.success = false;\n    response.error = \"Missing job\";\n  } else if (req.body.email === \"\") {\n    response.success = false;\n    response.error = \"Missing email\";\n  } else if (req.body.phone === \"\") {\n    response.success = false;\n    response.error = \"Missing phone\";\n  } else if (req.body.linkedin === \"\") {\n    response.success = false;\n    response.error = \"Missing linkedin\";\n  } else if (req.body.github === \"\") {\n    response.success = false;\n    response.error = \"Missing github\";\n  } else if (req.body.photo === \"\") {\n    response.success = false;\n    response.error = \"Missing photo\";\n  } else {\n    response.success = true;\n    response.cardURL = \"\";\n  }\n\n  res.json({ response });\n});\n"]},"metadata":{},"sourceType":"module"}